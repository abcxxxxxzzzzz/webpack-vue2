{"version":3,"file":"js/828.74038cce.js","mappings":"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","sources":["webpack://webpack-vue/./views/login/index.vue","webpack://webpack-vue/views/login/index.vue","webpack://webpack-vue/./views/login/index.vue?93c6","webpack://webpack-vue/./views/login/index.vue?4710","webpack://webpack-vue/./config/index.js","webpack://webpack-vue/./api/axios.js","webpack://webpack-vue/./api/data.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",staticClass:\"login-container\",attrs:{\"model\":_vm.form,\"states-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('h3',{staticClass:\"login-title\"},[_vm._v(\"系统登录\")]),_c('el-form-item',{staticClass:\"username\",attrs:{\"label\":\"用户名\",\"label-width\":\"80px\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"input\",\"aria-autocomplete\":\"off\",\"aria-placeholder\":\"请输入账号\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{staticClass:\"password\",attrs:{\"label\":\"密码\",\"label-width\":\"80px\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"aria-autocomplete\":\"off\",\"aria-placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.login.apply(null, arguments)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{staticClass:\"login_submit\"},[_c('el-button',{staticClass:\"login_submit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-form\n        :model=\"form\"\n        states-icon\n        :rules=\"rules\"\n        ref=\"form\"\n        label-width=\"100px\"\n        class=\"login-container\"\n        @submit.native.prevent\n    >\n        <h3 class=\"login-title\">系统登录</h3>\n        <el-form-item label=\"用户名\" label-width=\"80px\" prop=\"username\" class=\"username\">\n            <el-input type=\"input\" v-model=\"form.username\" aria-autocomplete=\"off\" aria-placeholder=\"请输入账号\" ></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"密码\" label-width=\"80px\" prop=\"password\" class=\"password\">\n            <el-input type=\"password\" v-model=\"form.password\" aria-autocomplete=\"off\" aria-placeholder=\"请输入密码\"  @keyup.enter.native=\"login\"></el-input>\n        </el-form-item>\n\n        <el-form-item class=\"login_submit\">\n            <el-button type=\"primary\" @click=\"login\" class=\"login_submit\">登录</el-button>\n        </el-form-item>\n\n    </el-form>\n</template>\n\n\n<script>\n// import Cookie from \"js-cookie\"\nimport { Login } from \"../../api/data\"\n\nexport default {\n    name: \"login\",\n    data() {\n        return {\n            form: {\n            },\n            rules: {\n                username: [\n                    { required: true, message: \"请输入用户名\", trigger: \"blur\"},\n                    { min: 1, message: \"用户名不能小于1位\", trigger: \"blur\"}\n                ],\n                password: [\n                    { required: true, message: \"请输入密码\", trigger: \"blur\"},\n                    { min: 1, message: \"用户名不能小于1位\", trigger: \"blur\"}\n                ]\n            }\n        }\n    },\n    methods: {\n        login(){\n            // const token = \"aa\"\n            // Cookie.set('token', token)\n            // this.$router.push('/home')\n            this.$refs.form.validate((valid) => {\n                if (valid) {\n                    Login(this.form).then(({ data }) => {\n                        console.log(data)\n                        if (data.code === 307) { \n                            this.handleOpenCode()\n                        }\n                        // console.log(data)\n                        if (data.code === 200) {\n                            // Cookie.set('token', data.data.token)\n                            // 保存在本地\n                            localStorage.setItem('token', data.data.token)\n                            this.$message.success('Login success!')\n                            this.$router.push('/home')\n                        } else if (data.code === 302) { \n                            this.open()\n                        } else {\n                            this.$message.error(data.msg)\n                        }\n                    })\n                }\n            })\n        },\n\n        // 弹框 口令\n        handleOpenCode() {\n            this.$prompt('请输入口令', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                inputPattern: /^\\d{6}$/,\n                inputErrorMessage: 'Code Error!'\n            }).then(({ value }) => {\n                // 如果开启谷歌验证码,重新再发送\n                this.form.code = value\n                Login(this.form).then(({ data }) => {\n                    if (data.code === 200) {\n                        localStorage.setItem('token', data.data.token)\n                        this.$message.success('Login success!')\n                        this.$router.push('/home')\n                    } else {\n                        this.$message.error(data.msg)\n                    }\n                })\n                // this.$message.success('You code: ' + value);\n            }).catch(() => {\n                this.$message.info('Cancel login!');\n            });\n        }\n    }\n}\n</script>\n\n\n<style lang=\"less\" scoped>\n.login-container {\n    border-radius: 15px;\n    background-clip: padding-box;\n    margin: 180px auto;\n    width: 350px;\n    padding: 35px 35px 35px 18px;\n    background-color: #fff;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cacaca;\n    box-sizing: border-box;\n\n    .el-input {\n        width: 198px;\n    }\n    \n    .login-title {\n            margin: 0px auto 40px auto;\n            text-align: center;\n            color: #505458;\n        }\n    \n    .login_submit {\n        margin: 10px;\n    }\n}\n\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=05005d5c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=05005d5c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05005d5c\",\n  null\n  \n)\n\nexport default component.exports","export default {\n    baseUrl: {\n        dev: '/api/', // 开发环境\n        pro: ''    // 生产环境\n    }\n}","import axios from \"axios\";\nimport config from \"../config\";\nimport { Loading, Message } from 'element-ui'\nimport router from '../router'\n// \nlet loading;\n//内存中正在请求的数量\nlet loadingNum = 0;\nfunction startLoading() {\n    if (loadingNum == 0) {\n        loading = Loading.service({\n            lock: true,\n            text: '拼命加载中...',\n            background: 'rgba(255,255,255,0.5)',\n        })\n    }\n    //请求数量加1\n    loadingNum++;\n}\nfunction endLoading() {\n    //请求数量减1\n    loadingNum--\n    if (loadingNum <= 0) {\n        loading.close()\n    }\n}\n\n\n\n// 判断当前运行环境\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro\n\n\n// 类实例\nclass HttpRequest {\n    // 初始化方法\n    constructor (baseUrl) {\n        this.baseUrl = baseUrl\n    }\n\n    // 初始化配置\n    getInsideConfig() {\n        const config = {\n            baseUrl: this.baseUrl,\n            header: {\n                \"Content-Type\": 'application/json'\n            }\n        }\n    }\n\n    // 拦截器\n    interceptors (instance) {\n       // 添加请求拦截器\n       instance.interceptors.request.use(function (config) {\n            // 在发送请求之前做些什么\n           startLoading();\n            const token = localStorage.getItem('token')\n            if (token) {\n                config.headers['X-Token'] = token \n            } \n\n            return config;\n        }, function (error) {\n            // 对请求错误做些什么\n            return Promise.reject(error);\n        });\n\n        // 添加响应拦截器\n        instance.interceptors.response.use(function (response) {\n            // 对响应数据做点什么\n            endLoading();\n            return response;\n        }, function (error) {\n            // 对响应错误做点什么\n            endLoading();\n            // switch (error.response.status) {\n            //     // 401 权限不足，退出登录\n            //     case 401:\n            //         localStorage.removeItem('token');\n            // }\n            if (error && error.response) {\n                switch (error.response.status) {\n                    case 400: error.message = '请求错误(400),请刷新重试~~~' + error.response.data.msg; break;\n                    case 401: localStorage.removeItem('token'); router.push('/login'); break;\n                    case 403: error.message = '拒绝访问(403) ' + error.response.data.msg; break;\n                    case 404: error.message = '请求出错(404) ' + error.response.data.msg; break;\n                    case 408: error.message = '请求超时(408) ' + error.response.data.msg; break;\n                    case 500: error.message = '服务器错误(500) ' + error.response.data.msg; break;\n                    case 501: error.message = '服务未实现(501) ' + error.response.data.msg; break;\n                    case 502: error.message = '网络错误(502) ' + error.response.data.msg; break;\n                    case 503: error.message = '服务不可用(503) ' + error.response.data.msg; break;\n                    case 504: error.message = '网络超时(504) ' + error.response.data.msg; break;\n                    case 505: error.message = 'HTTP版本不受支持(505) ' + error.response.data.msg; break;\n                    default: error.message = `连接出错(${error.response.status})!`;\n                }\n            } else {\n                error.message = '连接服务器失败!'\n            }\n            Message.error(error.message);\n            return Promise.reject(error);\n        }); \n    }\n\n    // 接口请求调用函数\n    request(options) {\n        const instance = axios.create()\n        options = {...this.getInsideConfig(), ...options}\n        // 调用\n        this.interceptors(instance)\n        // 返回\n        return instance(options)\n    }\n}\n\n\n// 暴露出去\nexport default new HttpRequest(baseUrl)","import axios from \"./axios\";\n\n// 登录\nexport const Login = (data) => {\n    return axios.request({\n        url: '/api/v1/auth/login',\n        method: 'post',\n        data: data\n    })\n}\n\n// 退出\nexport const Logout = (data) => {\n    return axios.request({\n        url: '/api/v1/auth/logout',\n        method: 'delete',\n        data: data\n    })\n}\n\n\n// 获取菜单列表\nexport const getMenu = (params) => {\n    return axios.request({\n        url: '/permission/getMenu',\n        method: 'post',\n        data: params\n    })\n}\n\n\n// 获取域数据列表\nexport const ManageList = (params) => {\n    return axios.request({\n        url: '/api/v1/manage',\n        method: 'get',\n        params\n    })\n}\n\n// 查询单条数据\nexport const ManageShow = (params) => {\n    return axios.request({\n        url: '/api/v1/manage',\n        method: 'get',\n        params\n    })\n}\n\n\n// 增加单条数据\nexport const ManageAdd = (data) => {\n    return axios.request({\n        url: '/api/v1/manage',\n        method: 'post',\n        data\n    })\n}\n\n\n// 更新单条数据\nexport const ManageUpdate = (data) => {\n    // console.log(data)\n    return axios.request({\n        url: '/api/v1/manage/' + data.id,\n        method: 'put',\n        data\n    })\n}\n\n// 删除单条数据\nexport const ManageDelele = (params) => {\n    return axios.request({\n        url: '/api/v1/manage/' + params.id,\n        method: 'delete',\n    })\n}\n\n\n\n// 生成缓存数据\nexport const ManageCacheUpdate = (data) => {\n    return axios.request({\n        url: '/api/v1/manage/cache',\n        method: 'delete',\n        data\n    })\n}\n\n\n// 删除缓存数据\nexport const ManageCacheDelete = (params) => {\n    return axios.request({\n        url: '/api/v1/manage/cache',\n        method: 'delete',\n        params\n    })\n}\n\n\n// 自动化部署到 NGINX\nexport const ManageDepleyToNginx = (params) => {\n    return axios.request({\n        url: '/api/v1/manage/deploy/' + params.id,\n        method: 'post',\n    })\n}"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","form","rules","nativeOn","$event","preventDefault","_v","model","value","username","callback","$$v","$set","expression","type","indexOf","_k","keyCode","key","login","apply","arguments","password","on","staticRenderFns","name","data","required","message","trigger","min","methods","Login","console","localStorage","handleOpenCode","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","then","catch","component","baseUrl","dev","pro","loading","loadingNum","startLoading","lock","text","background","endLoading","close","config","HttpRequest","constructor","getInsideConfig","interceptors","instance","request","use","token","getItem","headers","error","Promise","reject","response","status","msg","removeItem","router","options","axios","url","method","Logout","ManageList","params","ManageAdd","ManageUpdate","id","ManageDelele","ManageCacheUpdate","ManageCacheDelete","ManageDepleyToNginx"],"sourceRoot":""}